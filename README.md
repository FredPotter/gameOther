






|Биржа игровых ценностей gameOther|
| :-: |
|<p></p><p></p><p></p>|












[1. Введение	4](#_toc167896295)

[Цель	4](#_toc167896296)

[Задачи проекта	4](#_toc167896297)

[2. Описание предметной области и возможностей	4](#_toc167896298)

[Описание возможностей	5](#_toc167896299)

[3. Разработка требований	6](#_toc167896300)

[Общий взгляд на продукт	6](#_toc167896301)

[Классы и характеристики пользователей	6](#_toc167896302)

[Требования к дизайну и реализации	7](#_toc167896303)

[Требования к данным	9](#_toc167896304)

[Требования к пользовательским интерфейсам	16](#_toc167896305)

[Требования к интерфейскам программного обеспечения	17](#_toc167896306)

[Требования к коммуникационным интерфейсам	17](#_toc167896307)

[Требования к удобству использования	17](#_toc167896308)

[Требования к производительности	18](#_toc167896309)

[Требования к защите	18](#_toc167896310)

[Требования к доступности	18](#_toc167896311)

[Требования к надежности	18](#_toc167896312)

[4. Разработка архитектуры	19](#_toc167896313)

[5. Реализация	21](#_toc167896314)

[5.1. Функции системы:	21](#_toc167896315)

[§	Транзакции	30](#_toc167896316)

[§	Баланс	36](#_toc167896317)

[§	Пользователь	39](#_toc167896318)

[6. Тестирование	43](#_toc167896319)

[7.Заключение	48](#_toc167896320)

[8.СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ	49](#_toc167896321)

[АННОТАЦИЯ	50](#_toc167896322)

[НАЗНАЧЕНИЕ И УСЛОВИЯ ПРИМЕНЕНИЯ	51](#_toc167896323)

[Назначение	51](#_toc167896324)

[Функции, выполняемые программой	51](#_toc167896325)

[Условия применения	51](#_toc167896326)

[Характеристика программы	52](#_toc167896327)

[Описание основных характеристик программы	52](#_toc167896328)

[ОБРАЩЕНИЕ К ПРОГРАММЕ	52](#_toc167896329)

[Состав и содержание дистрибутивного носителя данных	52](#_toc167896330)

[Порядок загрузки данных и программ	52](#_toc167896331)

[Порядок проверки работоспособности	55](#_toc167896332)

[Общие настройки программы	56](#_toc167896333)

[ДОБАВЛЕНИЕ НОВОГО ФУНКЦИОНАЛА В СИСТЕМУ	58](#_toc167896334)

[ВХОДНЫЕ И ВЫХОДНЫЕ ДАННЫЕ	66](#_toc167896335)

[Организация используемой входной информации:	66](#_toc167896336)

[Организация используемой выходной информации:	66](#_toc167896337)

[ВОЗМОЖНЫЕ ОШИБКИ И РЕКОМЕНДАЦИИ ПО УСТРАНЕНИЮ	66](#_toc167896338)

[ПЕРЕЧЕНЬ ТЕРМИНОВ И СОКРАЩЕНИЙ	67](#_toc167896339)

[РЕКОМЕНДАЦИИ ПО ОСВОЕНИЮ	67](#_toc167896340)

[ПРИЛОЖЕНИЕ Б (РУКВОДСТВО ПОЛЬЗОВАТЕЛЯ)	68](#_toc167896341)

[аннотация	69](#_toc167896342)

[4.2.1	Транзакции	75](#_toc167896343)

[4.2.2	Баланс	77](#_toc167896344)

[4.2.3	Пользователь	78](#_toc167896345)

[ОПИСАНИЕ ОПЕРАЦИЙ	83](#_toc167896346)

[Работа со списком пользователей	83](#_toc167896347)

[Работа с предложениями	84](#_toc167896348)















1. # <a name="_toc28103"></a><a name="_toc20403"></a><a name="_toc167896295"></a>**ВВЕДЕНИЕ**
   ## <a name="_toc28756"></a><a name="_toc2288"></a><a name="_toc167896296"></a>**Цель**
   Целью данного проекта является создание биржи игровых ценностей предоставляющей пользователям возможность размещать и приобретать игровую информационную собственность .
   ## <a name="_toc20579"></a><a name="_toc5962"></a><a name="_toc167896297"></a>**Задачи проекта**
1. Разработка бэкенд части приложения на языке java с использованием фреймворка Spring.
1. Создание фронтенд интерфейса с помощью библиотеки React, и дополнения к ней material ui для обеспечения удобного и интуитивно понятного пользовательского опыта.
1. Интеграция с базой данных PostgreSQL для хранения информации о пользователях, предложениях и покупках.
1. Реализация основных функциональных возможностей, таких как размещение предложений, поиск лотов, покупка лотов.
1. Обеспечение безопасности и надежности приложения, включая авторизацию пользователей.







##





1. # <a name="_toc26114"></a><a name="_toc31609"></a><a name="_toc167896298"></a>**ОПИСАНИЕ ПРЕДМЕТНОЙ ОБЛАСТИ И ВОЗМОЖНОСТЕЙ**
   **Предметная область**

   Биржа игровых ценностей – это онлайн-платформа, которая предоставляет услуги по купле-продаже виртуальных предметов, валют и аккаунтов из различных видеоигр. Предметная область данного проекта охватывает функциональные аспекты такой платформы, включая:

   **Пользователи и учетные записи**:

- **Регистрация и аутентификация**: пользователи могут создавать учетные записи, проходить процедуру верификации.

**Игровые товары**:

- **Каталог товаров**: создание и поддержка каталога, включающего виртуальные предметы, игровые валюты и аккаунты.
- **Классификация и теги**: товары классифицируются по играм, типам, редкости и другим характеристикам.
- **Описание**: детальное описание товаров.

**Торговые операции**:

- **Создание объявлений**: пользователи могут создавать объявления о продаже, указывая цену, количество и условия сделки.
- **Покупка товаров**: покупатели могут искать и приобретать интересующие их товары, оформляя заказ через платформу.
- **Торговый процесс**: автоматизация процессов передачи предметов и валют, подтверждение получения товаров, разрешение споров и возвраты.

## <a name="_toc18388"></a><a name="_toc30526"></a><a name="_toc167896299"></a>**Описание возможностей**
Платформа краудфандинговой конторы предоставляет пользователям ряд удобных функций:

- Создание новых предложений: программное обеспечение позволяет создавать новые предложения клиентам, настраивать содержимое предложения, а также влиять на статус предложения.
- Управление сделками: возможность двухстороннего подтверждения(или отказа от) сделки, при которой финансовой прослойкой между покупателем и продавцом выступает биржа игровых ценностей.
- Отслеживание сделок: отображение актуального состояния сделок клиента(как покупателя, и в т.ч. как продавца)

Эти функции делают биржу игровых ценностей удобной для пользователей, способствуя успешной реализации различных проектов и инициатив.
1. # <a name="_toc25984"></a><a name="_toc22801"></a><a name="_toc167896300"></a>**РАЗРАБОТКА ТРЕБОВАНИЙ**
   ## <a name="_toc13380"></a><a name="_toc25861"></a><a name="_toc167896301"></a>**Общий взгляд на продукт**
   Биржа игровых ценностей - система, которая заменяет традиционные методы обмена информационной собственностью, через небезопасные методы . Контекстная диаграмма на рис. 1 показывает внешние объекты и системные интерфейсы (если таковые определены) для версии 2023.1. Предполагается выпустить несколько версий системы для расширения основного функционала, который представляет собой версия 2023.1.






   ![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.001.png)

   Рисунок 1 — Контекстная диаграмма для выпуска 2023.1

   ## <a name="_toc2066"></a><a name="_toc8403"></a><a name="_toc167896302"></a>**Классы и характеристики пользователей**
   Ниже представлены релевантные классы пользователей с точки зрения функционала системы версии 2023.1.

|Класс пользователей||Описание|
| :- | :- | :-: |
||||
|Пользователь|<p>Посетитель сайта. Имеет доступ к регистрации и авторизации</p><p></p><p></p>||
|<p>Клиент (авторизованный пользователь)</p><p></p>|<p>Зарегистрированный пользователь. Имеет доступ к созданию предложений, покупке лотов, просмотру списков предложений, просмотр предложений, сортировка предложений</p><p></p>||
||||
|Администратор|Сотрудник владельца системы, который имеет права на управление всеми сущностями системы. Версия системы 2023.1 предполагает, что администратор выполняет функции службы поддержки, помимо модерации сообщений.||

## <a name="_toc26119"></a><a name="_toc12951"></a><a name="_toc167896303"></a>**Требования к дизайну и реализации**

|CSTR-1|Документация системы по дизайну, коду и сопровождению должна соответствовать принятому внутреннему стандарту|
| :-: | :- |

|CSTR-2|Все программные коды управляющей логики системы должны быть написаны на языке Java|
| :-: | :- |

|CSTR-3|Код Java в полном объеме должен соответствовать стандарту Java 17|
| :-: | :- |

|CSTR-4|Код Java должен быть написан в соответствии со стандартом Google Java Style Guide|
| :-: | :- |

|CSTR-5|Весь код HTML должен соответствовать стандарту HTML 5.2|
| :-: | :- |

|<p>CSTR-6</p><p></p>|Все функции по обращению в базу данных (управление данными, получение выборок данных) должны быть вынесены в отдельный модуль и записаны на языке SQL|
| :-: | :- |

|CSTR-7|Все статические файлы (например, изображения, стили CSS, скрипты JavaScript) должны быть оптимизированы для быстрой загрузки с учетом кэширования на стороне клиента.|
| :-: | :- |

|CSTR-8|Все формы веб-приложения должны содержать проверку данных на стороне клиента (например, через HTML5 атрибуты или JavaScript), а также на стороне сервера для обеспечения безопасности и целостности данных.|
| :-: | :- |





























<a name="_toc167896304"></a><a name="_toc13049"></a><a name="_toc16688"></a>**Требования к данным**

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.002.png)

Рис. 2 - Логическая модель данных








Словарь данных:

Таблица 1 — Словарь данных


|Структура или <br>элемент данных|Тип данных|Длина|Значение|
| :-: | :-: | :-: | :-: |
|Пользователь||||
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер записи, генерируемый системой, начиная с 1|
|Статус профиля|VARCHAR|5|<p>ADMIN</p><p>USER</p>|
|Телефон(логин)|VARCHAR|40|Полный номер телефона с кодом страны и кодом города|
|E-mail|VARCHAR|120|Должен соответствовать стандарту RFC 5322|
|Пароль|VARCHAR|120|<p>Может содержать символы латинского алфавита, числа и символы из следующего после двоеточия списка:</p><p>! @ # $ % ^ & ? \* \_</p><p>Остальные символы, включая пробел, запрещены</p>|
|Имя пользователя|VARCHAR|40|<p>Может содержать символы латинского алфавита, числа и символы из следующего после двоеточия списка:</p><p>! @ # $ % ^ & ? \* \_</p><p>Остальные символы, включая пробел, запрещены</p>|
|Баланс|DECIMAL(19,0)|19|Баланс пользователя в копейках|
|(Аватар)|VARCHAR|255|Содержит путь файла|
|(Страна проживания)|INT|10|<p>(FK) Внешний ключ — содержит идентификатор страны</p><p>В интерфейсе выбирается из выпадающего списка</p>|
|Время последней активности|DATETIME|—|Формат записи YYYY-MM-DD hh:mm:ss|
|Статус учетной записи|BIT|1|<p>0 — Inactive (деактивирована)</p><p>1 — Active (учетная запись активна)</p><p>(по умолчанию «Active»)</p>|
|Дата и время регистрации|DATETIME|—|Формат записи YYYY-MM-DD hh:mm:ss|

|Страна||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер записи, генерируемый системой, начиная с 1|
|Наименование|VARCHAR|255|Наименование страны на английском языке|

|Предложения||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер записи, генерируемый системой, начиная с 1|
|Наименование|VARCHAR|255|Содержит название лота|
|Категория|INT|10|(FK) Внешний ключ — содержит идентификатор категории (категории для каждой игры определяются администрацией сайта)|
|Игра|INT|10|(FK) Внешний ключ — содержит идентификатор игры|
|Дата создания|DATE|—|Содержит дату создания лота (Формат записи YYYY-MM-DD)|
|Продавец|INT|10|(FK) Внешний ключ — содержит идентификатор продавца|
|Цена за лот|DECIMAL(19,0)|19|Цена за один лот в копейках|
|Кол-во товара в лоте|INT|10|Количество товара в одном лоте|
|Описание товара|TEXT|—|Подробное описание товара|
|Способ получения|VARCHAR|120|С доступом к аккаунту, либо без доступа.|

|Сделки||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер сделки, генерируемый системой, начиная с 1|
|Покупатель|INT|10|(FK) Внешний ключ — содержит идентификатор покупателя|
|Продавец|INT|10|(FK) Внешний ключ — содержит идентификатор продавца|
|Предложение|INT|10|(FK) Внешний ключ — содержит идентификатор предложения|
|Кол-во|INT|10|Содержит количество покупаемых лотов|
|Стоимость одного лота|DECIMAL(19,0)|19|Стоимость одной единицы лота, в копейках|
|Состояние покупателя|TINYINT|2|<p>Поле не может быть пустым</p><p>0 — ожидает</p><p>1 — закрыта</p><p>2 — Сделка отменена клиентом</p>|
|Состояние продавца|TINYINT|2|<p>Поле не может быть пустым</p><p>0 — ожидает</p><p>1 — закрыта</p><p>2 — отменена продавцом</p>|

|Категория||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер категории, генерируемый системой, начиная с 1|
|Название категории|VARCHAR|255|Поле не может быть пустым,<br>Название категории(определяется администраторами сайта)|


|Игра||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер категории, генерируемый системой, начиная с 1|
|Название игры|VARCHAR|255|Поле не может быть пустым, содержит название игры|
|Постер игры|VARCHAR|255|Содержит путь файла|



|Сообщения||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер сообщения, генерируемый системой, начиная с 1|
|Отправитель|INT|10|(FK) Внешний ключ — содержит идентификатор отправителя сообщения|
|Получатель|INT|10|(FK) Внешний ключ — содержит идентификатор получателя сообщения|
|Тема сообщения|VARCHAR|70|Может содержать все буквенно-цифровые символы|
|Текст сообщения|TEXT|—|Текст сообщения|
|Дата написания|DATETIME|—|Формат записи YYYY-MM-DD hh:mm:ss|

|Сообщения в службу поддержки||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер сообщения, генерируемый системой, начиная с 1|
|Отправитель|INT|10|(FK) Внешний ключ — содержит идентификатор отправителя сообщения|
|Тема сообщения|VARCHAR|70|Выбирается из выпадающего списка|
|Текст сообщения|TEXT|—|Текст сообщения|
|Дата написания|DATETIME|—|Формат записи YYYY-MM-DD hh:mm:ss|

|Отзывы||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер отзыва, генерируемый системой, начиная с 1|
|Покупатель|INT|10|(FK) Внешний ключ — содержит идентификатор покупателя|
|Продавец|INT|10|(FK) Внешний ключ — содержит идентификатор продавца|
|Название игры|VARCHAR|255|Поле не может быть пустым, содержит название игры|
|Оценка|TINYINT|2|Оценка от 1 до 5 звезд|
|Текст отзыва|VARCHAR|255|Может содержать все буквенно-цифровые символы|
|Дата написания|DATE|—|Формат записи YYYY-MM-DD|
|Проверка модерацией|BIT|1|<p>0 — Inactive (Не проверен)</p><p>1 — Active (Проверен)</p><p>По умолчанию - Inactive</p>|


|Блокировки||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер блокировки, генерируемый системой, начиная с 1|
|Пользователь|VARCHAR|255|(FK) Внешний ключ — содержит идентификатор пользователя|
|Причина|VARCHAR|255|Поле не может быть пустым, содержит название игры|
|Срок|DATETIME|—|Формат записи YYYY-MM-DD hh:mm:ss|


|Вип статус||||
| :- | :- | :- | :- |
|Идентификатор|INT|10|(PK) Первичный ключ — автоинкрементный номер вип статуса, генерируемый системой, начиная с 1|
|Дата конца вип статуса|DATETIME|—|Последний день срока годности вип статуса|


## <a name="_toc32482"></a><a name="_toc20326"></a><a name="_toc167896305"></a>**Требования к пользовательским интерфейсам**

|<a name="_toc3418"></a><a name="_toc9653"></a>UIR-1|<p>Пользовательский интерфейс должен быть простым и интуитивно понятным для использования (без необходимости в дополнительном обучении), полным (пользователи могут выполнить все функции из интерфейса) и согласованным (кнопки и формулировки одинаковы во всех частях системы).</p><p>Для контроля выполнения данного требования будет проведено пользовательское тестирование интерфейса.</p>|
| :-: | - |

|UIR-2|Возможность вернуться на главную страницу с любой доступной страницы (по нажатию на логотип или через меню)|
| :-: | - |

|UIR-3|На каждой странице в левом верхнем углу экрана есть доступ к кнопке пополнения баланса.|
| :-: | - |

|UIR-4|<p>Администратор должен иметь возможность настраивать визуальное оформление сайта</p><p></p><p>UIR-4.1 / (цветовая схема)</p><p>Возможность конфигурации цвета для структурных блоков сайта (разделителей контента, хедера и футера)</p><p>UIR-4.2 / (фоновое изображение)</p><p>Возможность смены фонового изображения. Вместо изображения также можно указать сплошной цвет. Для фонового изображения и цвета задается степень прозрачности.</p><p>UIR-4.3 / (логотип)</p><p>Возможность смены логотипа</p>|
| :-: | - |

|UIR-5|Сайт должен поддерживать специальные настройки цветовой схемы для людей с нарушением различения цветов|
| :-: | :- |

|UIR-6|Интерфейс должен быть сконфигурирован для легкой локализации, позволяя адаптировать текст, форматы и локальные настройки для разных регионов без изменения основной структуры интерфейса.|
| :-: | :- |

|UIR-7|Возможность перейти в личный кабинет с любой доступной страницы по нажатию на кнопку. Неавторизованных пользователей должно переадресовывать на окно регистрации/авторизации |
| :-: | :- |

|UIR-8|Все элементы пользовательского интерфейса, включая шрифты, размеры текста, кнопки, отступы и выравнивание, должны быть согласованы и единообразны во всех разделах системы для обеспечения единого и узнаваемого дизайна.|
| :-: | :- |

|UIR-9|Для неавторизованного пользователя доступны только два элемента интерфейса: вход, регистрация.|
| :-: | :- |
## <a name="_toc167896306"></a>**Требования к интерфейскам программного обеспечения**

|SIR-1|Система должна поддерживать работу во всех браузерах, с помощью которых пользователь может получить к ней доступ (Google Chrome, Safari, Microsoft Edge, Firefox, Opera, Brave, et cetera)|
| :-: | - |

|SIR-2|Система должна взаимодействовать с платформами фотохостинг, для отображения фотографий|
| :-: | :- |

|SIR-3|Система должна взаимодействовать с платежными средствами, а также обеспечивать сохранность критической информации о пользователе|
| :-: | :- |

|SIR-4|Система должна взаимодействовать с сервисом СМС-сообщений,с помощью которой происходит регистрация и авторизация пользователя|
| :-: | - |



## <a name="_toc11280"></a><a name="_toc21279"></a><a name="_toc167896307"></a>**Требования к коммуникационным интерфейсам**

|CIR-1|Связь между клиентом и сервером должна соответствовать архитектуре REST и обслуживаться через HTTP Secure (HTTPS)|
| :-: | :- |

|CIR-2|Система должна отправлять клиенту информацию по телефону о входе в его учетную запись с нового или ранее неиспользованного IP-адреса для повышения безопасности.|
| :-: | - |

## <a name="_toc20353"></a><a name="_toc24653"></a><a name="_toc167896308"></a>**Требования к удобству использования**

|USE-1|Система должна позволять клиенту переходить по автору предложения к его предложениям (при наведении на имя автора, предложение которого просматривается, должен всплывать его список предложений; выше должен быть указан его рейтинг)|
| :-: | - |

|USE-2|90% новых пользователей должны суметь успешно пройти регистрацию с первой попытки|
| :-: | - |

<a name="_toc3235"></a><a name="_toc17712"></a><a name="_toc167896309"></a>**Требования к производительности**

|PER-1|Все веб-страницы, которые генерирует система, должны полностью загружаться не более чем за 4 секунды после их запроса по интернет-подключению со скоростью 20 Мбит/сек|
| :-: | - |

|PER-2|Система должна выводить пользователю сообщение подтверждения в среднем за 2 секунды и не более чем через 5 секунд после того, как пользователь отослал информацию системе|
| :-: | - |

|PER-3|Система должна обслуживать всего около 5000 пользователей в период пиковой активности с 18:00 до 22:00 по местному времени, со средней продолжительностью сеанса 19 минут|
| :-: | - |

<a name="_toc11342"></a><a name="_toc19247"></a><a name="_toc167896310"></a>**Требования к защите**

|SEC-1|Пароли пользователей должны храниться в хэшированном виде с использованием алгоритма SHA-256.|
| :-: | - |

|<a name="_hlk167885425"></a>SEC-2|Пользователи обязательно регистрируются для входа в систему и выполнения всех операций, кроме просмотра разделов системы|
| :-: | - |

|SEC-3|<p>Система должна позволять только администратору менять общий список игр и категорий</p><p></p>|
| :-: | - |

<a name="_toc8135"></a><a name="_toc19821"></a><a name="_toc167896311"></a>**Требования к доступности**

|AVL-1|Система должна быть доступна 98% времени между 5:00 и 00:00 по местному времени и 90% времени между 00:01 и 5:00 по местному времени, за исключением времени планового обслуживания|
| :-: | - |

<a name="_toc1760"></a><a name="_toc13169"></a><a name="_toc167896312"></a>**Требования к надежности**

|ROB-1|Если соединение между пользователем и системой разрывается во время создания сбора, система должна позволять пользователю восстановить заполненные им ранее поля и продолжить работу|
| :-: | - |

1. # <a name="_toc8760"></a><a name="_toc32478"></a><a name="_toc167896313"></a>**РАЗРАБОТКА АРХИТЕКТУРЫ**
   Разработка архитектуры приложения играет ключевую роль в обеспечении его надежности, масштабируемости и поддерживаемости. В контексте данного проекта букмекерской конторы, мы можем рассмотреть следующую архитектурную концепцию:

- Клиент-серверная архитектура

`  `Клиент-серверная архитектура разделяет приложение на клиентский и серверный компоненты. Клиенты обращаются к серверу для получения данных или выполнения задач. Это обеспечивает масштабируемость, централизованный контроль и универсальность взаимодействия с приложением. Кроме того, такая архитектура обеспечивает безопасность данных и упрощает процесс обновлений.
Это позволяет легко масштабировать и поддерживать приложение.

- Бэкенд (серверная часть)

Для реализации бэкенд части приложения используется фреймворк Spring на языке Java. Бэкенд обеспечивает обработку запросов от клиентской части, взаимодействие с базой данных PostgreSQL и предоставление данных для клиентских приложений. 

- Фронтенд (клиентская часть)

Фронтенд приложение разрабатывается с использованием библиотеки React, обеспечивая динамический и отзывчивый пользовательский интерфейс. Клиентская часть взаимодействует с бэкендом через REST API, получая данные и обновляя интерфейс в соответствии с действиями пользователя. 

- REST API

Взаимодействие между фронтендом и бэкендом осуществляется посредством REST API. API предоставляет стандартизированные методы для выполнения операций, таких как аутентификация пользователя, получение списка предложений и размещение предложения.

- База данных PostgreSQL

Для хранения данных используется реляционная база данных PostgreSQL. В базе данных хранится информация о пользователях, предложениях, транзакциях и других сущностях, необходимых для функционирования приложения. 

- Архитектурные паттерны

При разработке приложения используются принципы многоуровневой архитектуры.  Это позволяет улучшить масштабируемость системы.

- Обеспечение безопасности

В архитектуре приложения уделяется особое внимание вопросам безопасности, включая защиту от атак переполнения буфера, инъекций SQL, CSRF и XSS. 

- ` `Деплоймент

Для деплоя приложения используется Docker-compose.

Разработка такой архитектуры позволит обеспечить высокую производительность, надежность и безопасность приложения, а также упростить его масштабирование и поддержку в будущем.









# <a name="_toc24241"></a><a name="_toc6428"></a><a name="_toc167896314"></a>**5. РЕАЛИЗАЦИЯ**
## <a name="_toc15480"></a><a name="_toc13822"></a><a name="_toc167896315"></a>**5.1. Функции системы:**
- Вход пользователя в аккаунт
- Регистрация
- Просмотр предложений		
- Создание предложений
- Поиск лотов
- Покупка лотов
- Подтверждение транзакций
- Пополнение кошелька

- <a name="_toc163999278"></a>вход в систему и выход из неё

Для входа в пользовательский интерфейс Платформы необходимо в браузере открыть стартовую страницу(при локальном запуске http://localhost:3000/gameOther) (рис. 1).

![ref1]

Рисунок 1. Авторизация в Платформе

Для получения прав доступа к Платформе необходимо предварительно зарегестрироваться

Для доступа к платформе необходимо выполнить авторизацию: указать номер телефона и указать пароль, а затем нажать кнопку «SIGN IN».

Реализация функции:

Для авторизации пользователя на странице необходимо выполнить следующие основные шаги:

Импортировал необходимые библиотеки и компоненты. Это включает в себя jwtDecode для декодирования токена JWT, а также различные компоненты Material-UI для создания пользовательского интерфейса.

import \* as React from 'react';
import { jwtDecode } from 'jwt-decode';
import Avatar from '@mui/material/Avatar';
import Button from '@mui/material/Button';

…

Создать функцию SignIn, которая будет обрабатывать процесс входа в систему. Внутри этой функции создается экземпляр UserService для взаимодействия с API авторизации.

Было обработано событие отправки формы, которое включало в себя предотвращение стандартного поведения формы, создание объекта FormData для сбора данных формы, вызов метода loginForAccessToken из UserService с передачей данных формы, проверку полученного токена и сохранение его в localStorage если он действителен, декодирование токена и сохранение ID пользователя в localStorage, перенаправление пользователя на главную страницу и перезагрузка страницы.

const handleSubmit = async (event) => {

`    `event.preventDefault();

`    `const data = new FormData(event.currentTarget);

`    `// ...

};

Вот код из сервиса для работы с пользователем

async loginForAccessToken(body) {
`    `const response = await fetch(`${this.apiUrl}/auth/authenticate`, {
`        `method: 'POST',
`        `headers: {
`            `'Content-Type': 'application/json'
`        `},
`        `body: JSON.stringify(body)
`    `});
`    `return response.json();
}

Для выхода из Системы следует нажать аватар пользователя и выбрать «Logout» 

![ref2]

Рисунок 2. выход из Платформы

Реализация функции:

Была создана функция Logout, которая выполняется при загрузке компонента. Внутри этой функции вызывается функция handleLogout и происходит перенаправление пользователя на главную страницу.

export default function Logout() {
`    `useEffect(() => {
`        `handleLogout();
`        `navigate('/', {replace: true});
`    `}, []);
`    `// ...
}

const handleLogout = () => {
`    `localStorage.removeItem('token');
`    `localStorage.removeItem('userId');
};

Функция handleLogout() удаляет токен и ид пользователя из localStorage, тем самым осуществляя выход из системы.

Таким образом, при переходе на страницу выхода из системы, автоматически удаляются данные пользователя из localStorage, и происходит перенаправление на главную страницу.

При переходе на страницу неавторизованным пользователем происходит перевод пользователя на страницу логина.

useEffect(() => {
`    `if (localStorage.getItem('token') === null) {
`        `navigate('/Login', {replace: true});
`    `}

Поскольку токена в локальном хранилище больше нет

- <a name="_toc163999279"></a>работа с Предложениями

Работа с предложениями осуществляется поэтапно

![ref3]

Рисунок 3. раздел игры

Реализация функции просмотра доступных игр.

Были импортированы необходимые библиотеки и компоненты, включая GameService для взаимодействия с API игр и GameCard для отображения информации об отдельной игре.

Было создано состояние games для хранения списка игр.

const [games, setGames] = React.useState([]);\

Было обработано событие загрузки компонента, которое включало в себя проверку наличия токена в localStorage, вызов функции fetchData для получения списка игр и установку полученного списка в состояние games.

useEffect(() => {

`    `if (localStorage.getItem('token') === null) {

`        `navigate('/Login', {replace: true});

`    `}

`    `const fetchData = async () => {

`        `try {

`            `const resp = await gameService.getGames();

`            `console.log(resp);

`            `setGames(resp)

`        `} catch (error) {

`            `console.error('Ошибка:', error);

`        `}

`    `}

`    `fetchData();

}, []);

Была отрендерена страница игр, которая включала в себя AppBar и контейнер для отображения списка игр. Каждая игра в списке отображается с помощью компонента GameCard.

return (

`    `<div>

`        `<AppBar/>

`        `<Container component="main" maxWidth="xl" sx={{ marginTop: 4 }}>

`            `<Grid container spacing={4}>

`                `{games.map((game) =>

`                    `<Grid item xs={3}>

`                        `<GameCard id={game.id} name={game.name} pathToPoster={game.pathToPoster}></GameCard>

`                    `</Grid>

`                `)}

`            `</Grid>

`        `</Container>

`    `</div>

);

Карточка игры принимает ид игры, название, и путь к постеру игры.

При нажатии на карточку игры идет редирект на /lots/${id}

![ref4]

`	`Рисунок 4. Раздел предложений

После при выборе понравившегося предложения переходим к оформлению заказа

![ref5]

Рисунок 5. Раздел оформления заказа

Реализация функции списка лотов и оформления заказа:

Была создана функция Lots, внутри которой был создан экземпляр OfferService для взаимодействия с API лотов.

export default function Lots() {

`    `const offerService = new OfferService();

`    `// ...

}

Было создано состояние offers для хранения списка лотов.

const [offers, setOffers] = React.useState([]);

Было обработано событие загрузки компонента, которое включало в себя вызов функции fetchData для получения списка лотов и установку полученного списка в состояние offers.

React.useEffect(() => {

`    `const fetchData = async () => {

`        `try {

`            `const resp = await offerService.getOffersById(id, "");

`            `setOffers(resp)

`        `} catch (error) {

`            `console.error('Ошибка:', error);

`        `}

`    `}

`    `fetchData();

}, [id]);

Была отрендерена страница лотов, которая включала в себя AppBar и контейнер для отображения списка лотов. Каждый лот в списке отображается с помощью компонента LotTable.

return (

`    `<div>

`        `<AppBar/>

`        `<Container component="main" maxWidth="xl" sx={{marginTop: 4}}>

`            `<LotTable offers={offers}/>

`        `</Container>

`    `</div>

);

При нажатии на лот, происходит редирект на lots/offer?id=ид\_лота, где происходит процесс покупки для его реализации

Была создана функция OfferCard, внутри которой был создан экземпляр OfferService для взаимодействия с API лотов.

export default function OfferCard({ offer }) {

`    `const offerService = new OfferService();

`    `// ...

}

Было создано состояние count для хранения количества покупаемых лотов.

const [count, setCount] = useState(1);

Была обработана покупка лота, которая включала в себя получение текущего баланса пользователя, создание транзакции, обработку ошибок и перенаправление пользователя на страницу покупок после успешной покупки.

const handleBuyClick = async () => {

`    `try {

`        `// Получаем текущий баланс пользователя

`        `const totalCost = offer.pricePerLot \* count;

`        `// Затем создаем транзакцию

`        `const transactionResponse = await offerService.buyOffer(offer.id, count, totalCost);

`        `if (!transactionResponse.success) {

`            `throw new Error(transactionResponse.message);

`        `}

`        `alert('Покупка успешно совершена!');

`        `navigate('/Purchases', {replace: true});

`    `} catch (error) {

`        `console.error('Ошибка при покупке:', error);

`        `alert('Ошибка при покупке. Пожалуйста, попробуйте еще раз.');

`    `}

};

Была отрендерена карточка лота, которая включала в себя информацию о лоте и кнопку для покупки лота.





- ## <a name="_toc167896316"></a>**Транзакции**
Для открытия корзины с заказами необходимо перейти в раздел по пиктограмме корзины сверху страницы. Вся работа с заказами осуществляется в открывшемся списке

![ref6]

Рисунок 6. Корзина

Для подтверждения новой сделки следует нажать кнопку «Подтвердить», Для отмены транзакции следует нажать кнопку «Отменить».

![ref7]

Рисунок 7. Корзина после подтверждения одной из сделок

После подтверждения покупателем, деньги перейдут нам, то есть продавцу

![ref8]

Рисунок 8. Корзина пользователя в этот момент

После подтверждения обоих сторон переходит в состояние подтверждена

![ref9]

Рисунок 9. Корзина пользователя после подтверждения получения товара.

Реализация функции
Была создана функция Purchase, внутри которой был создан экземпляр TransactionService для взаимодействия с API транзакций.

function Purchase() {

`    `const [purchases, setPurchases] = useState([]);

`    `const transactionService = new TransactionService();

`    `// ...

}

Было создано состояние purchases для хранения списка транзакций.

const [purchases, setPurchases] = useState([]);

Было обработано событие загрузки компонента, которое включало в себя вызов функции fetchData для получения списка транзакций и установку полученного списка в состояние purchases.

useEffect(() => {

`    `const fetchData = async () => {

`        `try {

`            `const resp = await transactionService.getTransactions();

`            `setPurchases(resp)

`        `} catch (error) {

`            `console.error('Ошибка:', error);

`        `}

`    `}

`    `fetchData();

}, []);

Для реализации таблицы

Была создана функция PurchaseTable, внутри которой был создан экземпляр TransactionService для взаимодействия с API транзакций.

function PurchaseTable({purchases}) {

`    `const transactionService = new TransactionService();

`    `// ...

}

Были обработаны события подтверждения и отмены транзакции, которые включали в себя вызовы соответствующих функций из TransactionService, обработку ошибок и перезагрузку страницы после успешного подтверждения или отмены транзакции.

const handleClickConfirm = async (id) => {

`    `try {

`        `const transactionResponse = await transactionService.confirmTransaction(id);

`        `if (!transactionResponse.success) {

`            `throw new Error(transactionResponse.message);

`        `}

`        `alert('Покупка успешно совершена!');

`    `} catch (error) {

`        `console.error('Ошибка при подтверждении:', error);

`        `alert('Ошибка при подтверждении. Пожалуйста, свяжитесь с поддержкой.');

`    `}

`    `window.location.reload();

};

const handleClickReject = async (id) => {

`    `try {

`        `const transactionResponse = await transactionService.rejectTransaction(id);

`        `if (!transactionResponse.success) {

`            `throw new Error(transactionResponse.message);

`        `}

`        `alert('Покупка успешно Отменена!');

`    `} catch (error) {

`        `console.error('Ошибка при отмене:', error);

`        `alert('Ошибка при отмене. Пожалуйста, свяжитесь с поддержкой.');

`    `}

};

Была отрендерена таблица покупок, которая включала в себя информацию о транзакциях и кнопки для подтверждения и отмены транзакци

return (

`    `<>

`        `<h2>Мои покупки</h2>

`        `<TableContainer component={Paper}>

`            `<Table sx={{ minWidth: 650 }} aria-label="simple table">

`                `<TableHead>

`                    `<TableRow>

`                        `<TableCell>Product Name</TableCell>

`                        `<TableCell align="right">PricePerLot</TableCell>

`                        `<TableCell align="right">Quantity</TableCell>

`                        `<TableCell align="right">Total</TableCell>

`                        `<TableCell align="right">BuyerStatus</TableCell>

`                        `<TableCell align="right">SellerStatus</TableCell>

`                        `<TableCell align="right">SellerUsername</TableCell>

`                        `<TableCell align="right">Actions</TableCell>

`                    `</TableRow>

`                `</TableHead>

`                `<TableBody>

`                    `{myPurchases.map((purchase) => (

`                        `<TableRow key={purchase.id}>

`                            `<TableCell component="th" scope="row">{purchase.offer.name}</TableCell>

`                            `<TableCell align="right">{purchase.pricePerLot}</TableCell>

`                            `<TableCell align="right">{purchase.quantityGoods}</TableCell>

`                            `<TableCell align="right">{purchase.quantityGoods\*purchase.pricePerLot}</TableCell>

`                            `<TableCell align="right">{purchase.buyerStatus}</TableCell>

`                            `<TableCell align="right">{purchase.sellerStatus}</TableCell>

`                            `<TableCell align="right">{purchase.seller.username}</TableCell>

`                            `<TableCell align="right">

`                            `{purchase.buyerStatus === 'CANCELED' || purchase.sellerStatus === 'CANCELED' ? (

`                                `'Отменена'

`                            `) : purchase.buyerStatus === 'CLOSED' && purchase.sellerStatus === 'CLOSED' ? (

`                                `'Подтверждена'

`                            `) : purchase.sellerStatus === 'WAITING' && purchase.buyerStatus === 'CLOSED' ? (

`                                `'Ожидание продавца'

`                            `) : (

`                                `<>

`                                    `<Button onClick={() => handleClickConfirm(purchase.id)} variant="contained" color="success" sx={{ marginRight: 1 }}>Подтвердить</Button>

`                                    `<Button onClick={() => handleClickReject(purchase.id)} variant="contained" color="error">Отменить</Button>

`                                `</>

`                            `)}

`                            `</TableCell>

`                        `</TableRow>

`                    `))}

`                `</TableBody>

`            `</Table>

`        `</TableContainer>

`        `// ...

`    `</>

);

Таким образом, при загрузке страницы покупок, автоматически происходит запрос к API для получения списка транзакций, который затем отображается на странице. При нажатии на кнопки "Подтвердить" или "Отменить" в таблице покупок, происходит подтверждение или отмена соответствующей транзакции.












- ## <a name="_toc167896317"></a>**Баланс**
Для пополнения баланса, вверху сайта нажмите на кнопку Balance

![ref10]

Рисунок 10. Пополнение баланса. Этап 1.

Введите требуемую сумму пополнения. И нажмите на кнопку пополнить

![ref11]

Рисунок 11. Пополнение баланса. Этап 2.

Перейдите на сервис интернет-эквайринга и оплатите. Позже деньги придут к вам на счёт, который показывается вверху сайта, рядом с корзиной

![ref12]

Рисунок 12. Пополнение баланса. Этап 3.

Реализация функции

Создал функцию Balance, внутри которой создали экземпляр UserService для взаимодействия с API пользователя.

const userService = new UserService();

Создал состояние value для хранения введенной суммы пополнения и open для управления отображением модального окна.

const [value, setValue] = React.useState('');

const [open, setOpen] = React.useState(false);

Обработал событие изменения значения в поле ввода суммы пополнения.

const handleChange = (event) => {

`    `setValue(event.target.value);

};

Обработал событие отправки формы, которое включало в себя проверку наличия токена в localStorage, вызов функции changeUserBalance из UserService с передачей введенной суммы и обновление баланса пользователя после успешного пополнения.

const handleSubmit = (event) => {

`    `event.preventDefault();

`    `const fetchBalance = async () => {

`        `if (localStorage.getItem('token')) { // Проверьте наличие токена

`            `try {

`                `const resp = await userService.changeUserBalance({amount: value}); // Получите баланс

`                `callback(resp.balance);

`            `} catch (error) {

`                `console.error('Ошибка:', error);

`            `}

`        `}

`    `}

`    `fetchBalance();

`    `handleClose(); // Закрыть модальное окно после отправки формы

};

Таким образом, при нажатии на кнопку "Пополнить", открывается модальное окно с формой для ввода суммы пополнения. После ввода суммы и нажатия на кнопку "Пополнить" в форме, происходит запрос к API для пополнения баланса пользователя на введенную сумму.





















- ## <a name="_toc167896318"></a>**Пользователь**
Для создания нового пользователя незаргистрированному пользователю достаточно перейти на сайт. Вас встретит форма для регистрации

![ref13]

`	`Рисунок 13. Регистрация. Этап 1.

После нажатия на кнопку регистрация на ваш мобильный телефон придёт смс с кодом для регистрации, который нужно будет ввести в появившимся поле.

![ref14]

Рисунок 14. Подтверждение телефона. 

Если код введен верно, платформа уведомит вас о успешной регистрации

![ref15]

Рисунок 15. Успех в регистрации.

Реализация функции

Создал функцию SignUp, которая содержит состояния для хранения данных пользователя и страны, а также состояние для отображения поля подтверждения.

В useEffect вызывается функция getCountries из CountryService для получения списка стран, который затем сохраняется в состояние countries.

React.useEffect(() => {
`    `const countryService = new CountryService();
`    `countryService.getCountries().then((result) => {
`        `setCountries(result);
`    `});
}, []);

Функция handleSubmit обрабатывает отправку формы. Если код подтверждения пуст, выполняется предварительная регистрация пользователя с помощью userService.preRegistration.

if (confirmationCode === '') {
`    `const preReg = async () => {
`        `const resp = await userService.preRegistration({username: data.get('username'),
`            `countryName: countries.at(selectedCountry-1).name, login: data.get('telephone'),
`            `password: data.get('password'), telephoneRegion: countryCode})
`        `if (resp.success) {
`            `setIsConfirmationVisible(true);
`        `} else {
`            `throw new Error(resp.message);
`        `}
`    `}
`    `try {
`        `preReg();
`    `} catch (error) {
`        `console.error('Ошибка:', error);
`        `alert('Ошибка регистрации, проверьте правильность введенных данных');
`    `}
} 

` `Если предварительная регистрация прошла успешно, отображается поле для ввода кода подтверждения. Если код подтверждения не пуст, выполняется окончательная регистрация пользователя с помощью userService.registration. Если регистрация прошла успешно, пользователь перенаправляется на страницу входа.

else {
`    `const reg = async () => {
`        `const resp = await userService.registration({username: data.get('username'),
`            `countryName: countries.at(selectedCountry-1).name, login: data.get('telephone'),
`            `password: data.get('password'), telephoneRegion: countryCode}, confirmationCode)
`        `if (resp.token) {
`            `alert('Регистрация прошла успешно!');
`            `navigate('/Login', {replace: true});
`        `} else {
`            `throw new Error(resp.message);
`        `}
`    `}
`    `try {
`        `reg().then(r => console.log(r));
`    `} catch (error) {
`        `console.error('Ошибка:', error);
`        `alert('Ошибка регистрации, проверьте правильность введенных данных');
`    `}
}

В возвращаемом компоненте рендерится форма регистрации, которая содержит поля для ввода имени, фамилии, телефона, страны, имени пользователя и пароля. Если isConfirmationVisible равно true, отображается поле для ввода кода подтверждения.
# <a name="_toc11080"></a><a name="_toc20874"></a><a name="_toc167896319"></a>**6. ТЕСТИРОВАНИЕ**

|**ИДЕНТИФИКАТОР   ДЕФЕКТА**|**НАЗВАНИЕ МОДУЛЯ**|**ВЕРСИЯ**|**КРАТКОЕ ОПИСАНИЕ**|<p>**ШАГИ ПО**</p><p>**ВОСПРОИЗВЕДЕНИЮ**</p>|**ОЖИДАЕМЫЙ РЕЗУЛЬТАТ**|**ФАКТИЧЕСКИЙ<br>РЕЗУЛЬТАТ**|**СЕРЬЕЗНОСТЬ ДЕФЕКТА**|**ПРИОРИТЕТ ДЕФЕКТА**|**НАЗНАЧЕН**|**СТАТУС**|
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
|` `**ТФ1**|` `Auth|` `0.0.1 alpha|Возможно купить отрицательное кол-во лотов|`  `Зайти на страницу с лотами, выбрать один из них, при покупке указать отрицательное количество|Не давать возможность ввести меньше нуля|Создается транзакция|` `Критическая|` `Высший|` `FredyPot|` `Решен|
|` `**ТФ2**|` `REST|` `0.0.1 alpha|` `Невозможно создать предложение с дробными числами|` `Заполнить анкету создания предложения и поставить дробную цену (2.3 или 3,2)|` `Предложение создано|` `Предложение не создано|` `Средняя|` `Высший|` `FredyPot|` `Решен|
|` `**ТФ3**|` `REST|` `0.0.1 alpha|` `Возможно создать предложение с отрицательной ценой, кол-вом, кол-вом в лоте, кол-вом дней вип-статуса|` `Заполнить анкету создания предложения и поставить отрицательные значения в числовые поля|` `Указать пользователю на ошибку валидации и отклонить создание предложения|` `Предложение создано|` `Критическая|` `Высший|` `FredyPot|`  `Решен|
|` `**ТФ4**|` `REST|` `0.0.1 alpha|` `Возможно купить нулевое кол-во лотов|` `Зайти на страницу с лотами, выбрать один из них, при покупке указать нулевое количество|Не давать возможность ввести меньше нуля|` `Данная транзакция попадает в список покупок, но она безвредна, то есть не вызывает других багов, при закрытии сделки продавец получит 0 рублей, а покупатель 0 лотов.|` `Низкая|` `Средний|` `FredyPot|` `Решен|



![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.018.png)

Рис. 16 - Попытка ввода отрицательного или нулевого числа при поддержке сбора














![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.019.png)

Рис. 17 – Создание предложения с дробной ценой

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.020.png)

Рис. 18 – Попытка создания предложения с отрицательными значениями.






# <a name="_toc24397"></a><a name="_toc4215"></a><a name="_toc167896320"></a>**7.ЗАКЛЮЧЕНИЕ**

В данной курсовой работе была создана биржа игровых ценностей, представляющая собой систему для проведения операций купли-продажи с участием информационной собственности. Этот проект обладает широким функционалом и интуитивно понятным пользовательским интерфейсом, предоставляя участникам множество возможностей для создания, поиска и покупки информационной собственности, а также просмотра информации о текущих и завершенных сделках.

Особое внимание уделено безопасности проведения сделок между пользователями. Где буфером и гарантом выполнения сделки выступает биржа игровых ценностей. Что позволяет сделать реализованный аппарат транзакций с системой подтверждения или отмены обеими сторонами сделки.

Таким образом, биржа игровых ценностей представляет собой мощный инструмент для покупки, сбыта информационной собственности. Реализация данной платформы открывает новые возможности для пользователей любого уровня и позволяет им безопасно и быстро проводить сделки, не опасаясь мошенников и того, что одна из сторон транзакции будет обманута.




# <a name="_toc6623"></a><a name="_toc28531"></a><a name="_toc167896321"></a>**8.СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ**
1\. Рудинский И. Д. – “Методические указания по выполнению

курсового проекта для студентов специальности – Автоматизированные

системы обработки информации и управления”. Калининград КГТУ 2003

2\. ГОСТ 34.602-2020. Информационная технология. Комплекс

стандартов на автоматизированные системы. Техническое задание на

создание автоматизированной системы.

3\. ГОСТ 34.601-90. Информационная технология. Комплекс

стандартов на автоматизированные системы. Автоматизированные системы.

Стадии создания.

4\. ГОСТ 34.201-89. Информационная технология. Комплекс

стандартов на автоматизированные системы. Виды, комплектность и

обозначение документов при создании автоматизированной системы.

5\. РД 50-34.698-90. Методические указания. Информационная

технология. Комплекс стандартов на автоматизированные системы.

Автоматизированные системы. Требования к содержанию документов.

6\. ГОСТ 2.105-95. ЕСКД. Общие требования к текстовым

документам.

7\. ГОСТ Р. 50377-92 (МЭК 950-86) «Безопасность оборудования

информационной технологии, включая электрическое конторское

оборудование».

8\. Разработка Технического задания по ГОСТ 34 легко и просто –

Москва – URL: https://habr.com/ru/articles/432852 (Дата обращения

10\.05.2024)

<a name="_toc8122"></a><a name="_toc25900"></a>ПРИЛОЖЕНИЕ А (РУКОВОДСТВО ПРОГРАММИСТА)
ГУАП
# <a name="_toc810890041"></a><a name="_toc167896322"></a>**АННОТАЦИЯ**
Настоящий документ представляет собой руководство программиста (далее - Руководство) ,биржи игровых ценностей gameOther (далее - Платформа).

Руководство определяет порядок развертывания системы и администрирования Платформы.

Перед началом работы с Платформой рекомендуется внимательно изучить настоящее руководство.
















# <a name="_toc377986556"></a><a name="_toc167896323"></a>**НАЗНАЧЕНИЕ И УСЛОВИЯ ПРИМЕНЕНИЯ**
## <a name="_toc514536682"></a><a name="_toc167896324"></a>**Назначение**
Специальное программное обеспечение онлайн-платформа предназначено для автоматизации процессов и оптимизации работы биржи игровых ценностей “gameOther” (Далее - Платформа). Платформа обеспечивает эффективное управление и контроль биржевыми операциями над виртуальной собственностью, а также обеспечивает безопасное выполнение сделок купли-продажи.
## <a name="_toc1640394638"></a><a name="_toc167896325"></a>**Функции, выполняемые программой**
- Создание новых предложений: программное обеспечение позволяет создавать новые предложения клиентам, настраивать содержимое предложения, а также влиять на статус предложения.
- Управление сделками: возможность двухстороннего подтверждения(или отказа от) сделки, при которой финансовой прослойкой между покупателем и продавцом выступает биржа игровых ценностей.
- Отслеживание сделок: отображение актуального состояния сделок клиента(как покупателя, и в т.ч. как продавца)
## <a name="_toc2054485627"></a><a name="_toc167896326"></a>**Условия применения**
Платформа может эксплуатироваться и выполнять заданные функции при соблюдении следующих условий:

- Наличие доступа к интернету для использования Платформы
- Рекомендуемый объем оперативной памяти 8 Гб или выше
- Требование к операционной системе: Windows 10 64-bit или выше, Linux, MacOS
- Соответствие технических характеристик устройства требованиям Платформы
- Правильное использование пользователем предоставленных функциональных возможностей





# <a name="_toc820609006"></a><a name="_toc167896327"></a>**ХАРАКТЕРИСТИКА ПРОГРАММЫ**

## <a name="_toc26777086"></a><a name="_toc167896328"></a>**Описание основных характеристик программы**
Платформа разработана для управления и мониторинга операций, связанных с биржей игровых ценностей. Она устанавливает логические схемы работы системы, обеспечивает двухстороннее взаимодействие между клиентом и Платформой, а также автоматически формирует необходимые материалы для управления и контроля внутренних процессов.
# <a name="_toc1015608595"></a><a name="_toc167896329"></a>**ОБРАЩЕНИЕ К ПРОГРАММЕ**
## <a name="_toc1026841807"></a><a name="_toc167896330"></a>**Состав и содержание дистрибутивного носителя данных**
Состав поставляемого приложения:

- Исходный код веб-приложение Платформы (frontend и backend части)
- Docker-образ базы данных, содержащий тестовую базу данных.(Можно отключить если обнулить миграцию Flyway)
- Файлы конфигурации Docker-compose для управления контейнерами и их взаимодействия.
## <a name="_toc954989117"></a><a name="_toc167896331"></a>**Порядок загрузки данных и программ**
Для загрузки данных и программ в среде Docker с использованием Docker-compose следуйте следующим шагам:

- Получите скомпилированный код проекта для backend это jar-файл, для frontend – исходный код.
- Установите Программное обеспечение Docker и средство Docker Compose
- Откройте терминал или командную строку в директории с Docker-compose файлом.
- Запустите команду `docker-compose up`, чтобы создать и запустить все контейнеры в соответствии с настройками из Docker-compose файла.
- После успешного запуска контейнеров, приложение должно быть доступно по указанному адресу и порту веб-сервера.
- Ниже приложены файлы конфигураций Docker files и Docker-compose файл для запуска контейнеров.



**Dockerfile для frontend**

\# Используйте официальный образ Node.js в качестве базового

FROM node:14

\# Установите рабочую директорию внутри контейнера

WORKDIR /app

\# Скопируйте package.json и package-lock.json в рабочую директорию

COPY package\*.json ./

\# Установите зависимости

RUN npm install

\# Скопируйте все файлы проекта в рабочую директорию

COPY . .

\# Соберите приложение для продакшена

RUN npm run build

\# Установите сервер для обслуживания созданного React приложения

RUN npm install -g serve

\# Укажите команду по умолчанию для запуска контейнера

CMD ["serve", "-s", "build"]

\# Откройте порт 5000

EXPOSE 5000

**Dockerfile для backend**

\# Используйте официальный образ OpenJDK для Java 17 в качестве базового

FROM openjdk:17

\# Установите рабочую директорию внутри контейнера

WORKDIR /app

\# Скопируйте JAR-файл приложения в контейнер

COPY target/your-spring-app.jar /app/app.jar

\# Укажите порт, на котором работает ваше приложение

EXPOSE 8081

\# Запустите приложение при старте контейнера

CMD ["java", "-jar", "app.jar"]

**Docker-compose.yml**

version: '3'

services:

`  `postgres:

`    `image: postgres:latest

`    `container\_name: postgres

`    `restart: always

`    `environment:

`      `POSTGRES\_USER: postgres

`      `POSTGRES\_PASSWORD: lolushka1993

`      `POSTGRES\_DB: db

`    `ports:

`      `- '5433:5433'

`  `backend:

`    `build:

`      `context: .

`      `dockerfile: Dockerfile

`    `container\_name: backend

`    `restart: always

`    `ports:

`      `- '8080:8080'

`    `depends\_on:

`      `- postgres

`    `environment:

`      `SPRING\_DATASOURCE\_URL: jdbc:postgresql://postgres:5433/db

`      `SPRING\_DATASOURCE\_USERNAME: postgres

`      `SPRING\_DATASOURCE\_PASSWORD: lolushka1993

`  `frontend:

`    `build:

`      `context: ./frontend

`      `dockerfile: Dockerfile

`    `container\_name: frontend

`    `restart: always

`    `ports:

`      `- '3000:3000'

`    `depends\_on:

`      `- backend

## <a name="_toc1122255618"></a><a name="_toc167896332"></a>**Порядок проверки работоспособности**
Проверить работоспособность необзодимо 2 шагами:

- Запустите команду `docker stats` для просмотра развернутых контейнеров(Или используйте графический интерфейс программного обеспечения Docker desktop)
- После успешного запуска контейнеров, приложение должно быть доступно по указанному вами адресу и порту веб-сервера.

















## <a name="_toc1503271988"></a><a name="_toc167896333"></a>**Общие настройки программы**
Все ключевые настройки находятся в конфигурационном файле - application.yml (Рис. 2). Тут есть возможность поменять хост, порт и базу данных, настроить миграции, файл куда будут сохраняться логи, поменять токены для внешних сервисов. При изменение данных образ необходимо пересобрать, а затем и Docker Compose файл. Это возлагается на программиста, изменившего конфигурации.

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.021.png)Рис. 1 - Структура конфигурацинного файла



# <a name="_toc1435885440"></a><a name="_toc167896334"></a>ДОБАВЛЕНИЕ НОВОГО ФУНКЦИОНАЛА В СИСТЕМУ
Для добавления функционала необходимо реализовать его бэк и фронт часть. На стороне сервера используется Java spring, вот примерные шаги по добавлению нового функционала.

Создайте новый класс Java в пакете контроллера. Назовите его, например, GameController.java.

Аннотируйте этот класс с помощью @RestController, чтобы Spring Boot знал, что этот класс является контроллером.

Внутри класса создайте методы, которые будут обрабатывать HTTP-запросы. Аннотируйте эти методы с помощью @GetMapping, @PostMapping, @PutMapping или @DeleteMapping, в зависимости от типа HTTP-запроса, который вы хотите обработать.

В этих методах напишите логику, которую вы хотите выполнить при получении соответствующего HTTP-запроса.

package ru.gorshkov.gameother.controller.rest;

import lombok.RequiredArgsConstructor;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import ru.gorshkov.gameother.DTO.entitiesDto.GameDto;
import ru.gorshkov.gameother.DTO.entitiesDto.OfferDto;
import ru.gorshkov.gameother.mapper.GameMapper;
import ru.gorshkov.gameother.mapper.OfferMapper;
import ru.gorshkov.gameother.model.entity.Game;
import ru.gorshkov.gameother.model.entity.Offer;
import ru.gorshkov.gameother.model.service.GameService;

import java.util.List;

@RestController
@RequiredArgsConstructor
@RequestMapping("/api/game")
@CrossOrigin(origins = "http://localhost:3000/")
public class GameController {
`    `private final GameService gameService;

`    `@GetMapping("/list")
`    `public ResponseEntity<List<GameDto>> getGames() {
`        `List<Game> list = gameService.getGames();
`        `return ResponseEntity.ok(list.stream().map(GameMapper.INSTANCE::toDto).toList());
`    `}
}

Этот контроллер будет обрабатывать GET-запросы, отправленные на /api/game. Вы можете добавить больше методов для обработки других типов HTTP-запросов, если это необходимо. Но в данном примере необходимо вернуть список доступных игр.

Создаем сущность игры с использованием Java Persistence API (JPA) и Lombok. Вот шаги:

Создать новый класс Game в пакете ru.gorshkov.gameother.model.entity.

аннотировать класс с помощью @Entity и @Table, чтобы указать, что этот класс является сущностью JPA и связан с таблицей game в базе данных.

Использовать аннотацию @Data от Lombok для автоматического создания геттеров, сеттеров и других полезных методов.

Создать необходимое поля, в данном случае это поля id, name и pathToPoster и аннотировать их соответствующим образом для отображения на столбцы в таблице game.

package ru.gorshkov.gameother.model.entity;

import jakarta.persistence.\*;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

@Entity
@Table(name="game", indexes = @Index(columnList = "name"))
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class Game {
`    `@Id
`    `@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "game\_seq")
`    `@SequenceGenerator(name="game\_seq", allocationSize=1)
`    `private Long id;

`    `@Column(nullable = false)
`    `private String name;

`    `@Column
`    `private String pathToPoster;
}

Далее необходимо создать репозиторий метод которого по сути является sql запросом

package ru.gorshkov.gameother.model.repository;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;
import ru.gorshkov.gameother.model.entity.Game;

import java.util.Optional;

@Repository
public interface GameRepository extends JpaRepository<Game, Long> {
`    `Optional<Game> findByName(String name);
}

При наследовании JpaRepository автоматически становятся доступны базовые sql запросы. Их генерирует Hibernate реализация спецификации Java JPA

Так как у меня реализована многоуровневая архитектура создаем сервис для бизнес логики сущности game

Создание класса GameService включает в себя следующие шаги:  

Создание нового класса GameService в пакете ru.gorshkov.gameother.model.service.

Аннотация класса с помощью @Service для указания Spring, что этот класс является сервисом.

Использование аннотации @RequiredArgsConstructor от Lombok для автоматического создания конструктора с одним аргументом для каждого final поля.

Создание приватного final поля GameRepository gameRepository, которое будет автоматически внедрено благодаря @RequiredArgsConstructor.

Создание методов для работы с данными игры, таких как получение всех игр, получение игры по id или имени, сохранение игры и удаление игры по id. Некоторые из этих методов аннотированы @Transactional, что означает, что они будут выполняться в рамках транзакции.

package ru.gorshkov.gameother.model.service;

import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import ru.gorshkov.gameother.model.entity.Game;
import ru.gorshkov.gameother.model.repository.GameRepository;

import java.util.List;

@Service
@RequiredArgsConstructor
public class GameService {
`    `private final GameRepository gameRepository;

`    `public List<Game> getGames() {
`        `return gameRepository.findAll();
`    `}

`    `public Long size() {
`        `return gameRepository.count();
`    `}

`    `public Game getGameById(Long id) {
`        `return gameRepository.findById(id).orElseThrow(() ->
`                `new RuntimeException("Game not found for id :: " + id));
`    `}
`    `public Game getGameByName(String name) {
`        `return gameRepository.findByName(name).orElseThrow(() ->
`                `new RuntimeException("Game not found for name :: " + name));
`    `}

`    `@Transactional
`    `public Game saveGame(Game game) {
`        `return gameRepository.save(game);
`    `}

`    `@Transactional
`    `public void deleteGameById(Long id) {
`        `gameRepository.deleteById(id);
`    `}

}

Далее нам необходимо произвести обращения к контроллеру на сервере через front

import config from "../config";

class GameService {
`    `constructor() {
`        `this.apiUrl = config.apiUrl;
`    `}

`    `async getGames() {
`        `if (!localStorage.getItem('token')) {
`            `return {error: 'Unauthorized'};
`        `} else {
`            `const response = await fetch(`${this.apiUrl}/api/game/list`
`                `, {
`                `method: 'GET',
`                    `headers: {
`                        `'Content-Type': 'application/json',
`                        `'Authorization': localStorage.getItem('token')
`                    `}
`                `}
`            `);
`            `return response.json();
`        `}
`    `}
}

export default GameService;

После этого с данными с сервера мы можем делать что угодно, но в данном примере мы будем выводить таблицу с доступными играми.

Создадим для этого карточку игры, чтобы сделать масштабируемый и разбитый на компоненты интерфейс системы

Вот какие шаги были сделаны во время создания компонента карточки игры

Импортировались необходимые библиотеки и компоненты. Это включает в себя React из react, а также Card, CardActionArea, CardContent, CardMedia, и Typography из @mui/material. Также импортирован Link из react-router-dom.  

Создана функция GameCard, которая принимает объект свойств с id, name, и pathToPoster.  

Внутри функции GameCard возвращается компонент Card. Этот компонент содержит CardActionArea, который оборачивает CardMedia и CardContent.  

CardActionArea использует компонент Link для создания ссылки на страницу лотов, используя id из свойств.  

CardMedia используется для отображения изображения игры, используя pathToPoster из свойств для URL изображения и name для альтернативного текста.  

CardContent содержит компонент Typography, который отображает name игры.  

Функция GameCard экспортируется как модуль по умолчанию.

import React from 'react';
import { Card, CardActionArea, CardContent, CardMedia, Typography } from '@mui/material';
import { Link } from 'react-router-dom';

export default function GameCard({ id, name, pathToPoster }) {
`    `return (
`        `<Card>
`            `<CardActionArea component={Link} to={`/lots/${id}`}>
`                `<CardMedia
`                    `component="img"
`                    `height="140"
`                    `image={pathToPoster}
`                    `alt={name}
`                `/>
`                `<CardContent>
`                    `<Typography variant="h5" component="div">
`                        `{name}
`                    `</Typography>
`                `</CardContent>
`            `</CardActionArea>
`        `</Card>
`    `);
}

Создается компонент который будет рендерить все карточки и забирать данные из GameService

Импортировались необходимые библиотеки и компоненты. Это включает в себя Container, Grid из @mui/material, useEffect из react, GameService из ../../service/GameService, GameCard из ./GameCard и useNavigate из react-router-dom.  

Создана функция Games, которая содержит состояние games для хранения списка игр и сервис gameService для взаимодействия с API.  

В useEffect вызывается функция fetchData, которая проверяет наличие токена в localStorage. Если токена нет, происходит перенаправление на страницу входа. Если токен есть, выполняется запрос к API для получения списка игр, который затем сохраняется в состояние games.  

В возвращаемом компоненте рендерится список игр. Для каждой игры создается карточка с помощью компонента GameCard, которому передаются id, name и pathToPoster текущей игры.

Вот какие шаги были сделаны во время создания компонента списка игры

import Container from "@mui/material/Container";
import \* as React from "react";
import Grid from "@mui/material/Grid";
import AppBar from "../HomeComponents/AppBar/AppBar";
import {useEffect} from "react";
import GameService from "../../service/GameService";
import GameCard from "./GameCard";
import {useNavigate} from "react-router-dom";

export default function Games() {
`    `const gameService = new GameService()
`    `const [games, setGames] = React.useState([]);
`    `const navigate = useNavigate();
`    `useEffect(() => {
`        `if (localStorage.getItem('token') === null) {
`            `navigate('/Login', {replace: true});
`        `}
`        `const fetchData = async () => {
`            `try {
`                `const resp = await gameService.getGames();
`                `console.log(resp);
`                `setGames(resp)
`            `} catch (error) {
`                `console.error('Ошибка:', error);
`            `}
`        `}
`        `fetchData();
`    `}, []);

`    `return (
`        `<div>
`            `<AppBar/>
`            `<Container component="main" maxWidth="xl" sx={{ marginTop: 4 }}>
`                `<Grid container spacing={4}>
`                    `{games.map((game) =>
`                        `<Grid item xs={3}>
`                            `<GameCard id={game.id} name={game.name} pathToPoster={game.pathToPoster}></GameCard>
`                        `</Grid>
`                    `)}
`                `</Grid>
`            `</Container>
`        `</div>
`    `);
}



# <a name="_toc167896335"></a>**ВХОДНЫЕ И ВЫХОДНЫЕ ДАННЫЕ**

## <a name="_toc143502999"></a><a name="_toc167896336"></a>**Организация используемой входной информации:**
Входная информация для системы представляется следующим образом: 

- Получение данных от компонентов биржи игровых ценностей: данные могут поступать от различных компонентов системы, таких как визуальная часть Платформы.

## <a name="_toc83932163"></a><a name="_toc167896337"></a>**Организация используемой выходной информации:**
Выходная информация системы может быть представлена следующим образом:

- Передача данных компонентам биржи игровых ценностей: система может передавать данные другим компонентам биржи, таким как сервер, БД.


# <a name="_toc449086762"></a><a name="_toc167896338"></a>**ВОЗМОЖНЫЕ ОШИБКИ И РЕКОМЕНДАЦИИ ПО УСТРАНЕНИЮ**
Таблица 2. Возможные ошибки и способы их устранения

|**Описание ошибки**|**Рекомендации по устранению**|
| :-: | :-: |
|Может возникать ошибка SQLExceptions, при некорректном вводе sql запросов|Ввести корректные данные, исправить синтаксические ошибки.|
|Подключение к базе данных может не проходить успешно.|Проверить логин и пароль для доступа к базе данных, а также порт на котором запущена бд.|






# <a name="_toc231848330"></a><a name="_toc167896339"></a>**ПЕРЕЧЕНЬ ТЕРМИНОВ И СОКРАЩЕНИЙ**
**Платформа** – Биржа игровых ценностей gameOther

**СУБД** - система управления базами данных

#
# <a name="_toc1041562558"></a><a name="_toc167896340"></a>**РЕКОМЕНДАЦИИ ПО ОСВОЕНИЮ**
Рекомендуемая литература:

https://docs.docker.com/ 

https://www.postgresql.org/docs/

#

# <a name="_toc26493"></a><a name="_toc22149"></a><a name="_toc167896341"></a>**ПРИЛОЖЕНИЕ Б (РУКВОДСТВО ПОЛЬЗОВАТЕЛЯ)**


























# <a name="_toc163999263"></a><a name="_toc167896342"></a>**АННОТАЦИЯ**
Настоящий документ представляет собой руководство пользователя (далее - Руководство) ,биржи игровых ценностей gameOther (далее - Платформа).

Пользовательский интерфейс Платформы обеспечивает информационную поддержку деятельности пользователей – продавца и покупателя

Руководство определяет порядок работы с предложениями, сделками.

Перед работой пользователя с Платформой рекомендуется внимательно ознакомиться с настоящим руководством.

Документ подготовлен в соответствии с РД 50-34.698-90.



1. <a name="_toc163999264"></a>введение
1. <a name="_toc163999265"></a>область применения

   Пользовательский интерфейс Платформы обеспечивает информационную поддержку деятельности пользователя при выполнении следующих операций:

- <a name="_toc163999266"></a>Торговля игровыми ценностями
- Работа с каталогом доступных игровых активов
  1. краткое описание возможностей

     Платформа обеспечивает выполнение следующих основных функций:

- <a name="_toc163999267"></a>Просмотр доступных игровых активов и их характеристик
- Осуществление торговых операций с игровыми ценностями
  1. уровень подготовки пользователей

     Для эксплуатации Платформы определены две роли: Продавец и покупатель

     Продавец должен:

- Иметь представление о информационной собственности торгуемого на бирже игровых ценностей
- Анализировать свою деятельность и результаты торгов
- Совершать торговые операции с использованием интерфейса

Покупатель должен:

- Всё, перечисленное для продавца
  1. <a name="_toc163999268"></a>перечень эксплуатационной документации
- Руководство пользователя Платформы (настоящее руководство)
- Руководство программиста Платформы
  1. <a name="_toc163999269"></a>список обозначений и сокращений

     |ИС|– информационная собственность|
     | :- | :- |
     |Интерфейс|– пользовательский интерфейс биржи игровых ценностей|

1. <a name="_toc163999270"></a>назначение и условия применения
1. <a name="_toc163999271"></a>назначение

   Платформа предназначена для осуществления информационной поддержки в сфере биржи игровых ценностей.

   Платформа позволяет: 

- <a name="_toc163999272"></a>Осуществлять операции купли-продажи с ИС.
- Повысить безопасность и удобство в совершении сделок с ИС
- Оптимизировать поиск необходимого ИС для покупателя
- Возможность заработать для продавца на ИС
  1. условия применения

     Платформа может эксплуатироваться и выполнять заданные функции при соблюдении требований, предъявляемых к техническому, системному и прикладному программному обеспечению.

1. <a name="_toc163999273"></a>подготовка к работе
   1. <a name="_toc163999274"></a>состав и содержание дистрибутивного носителя данных

      Состав дистрибутива приведен в документе «Биржа игровых ценностей. Руководство программиста».

   1. <a name="_toc163999275"></a>порядок загрузки данных и программ

      Порядок загрузки данных и программ представлен в документе «Биржа игровых ценностей. Руководство программиста»

   1. <a name="_toc163999276"></a>порядок проверки работоспособности

      Проверка работоспособности Платформы осуществляется путем выполнения операций, описанных в разделе 4 настоящего документа.

1. <a name="_toc163999277"></a>описание операций

   В данном разделе приводится описание всех операций, существующих в Платформе.

   Таблица 1. роли и права доступа к данным и операциям

<table><tr><th>Роль</th><th>Доступные разделы</th><th>Доступные действия</th></tr>
<tr><td rowspan="4">Пользователь</td><td>Предложения</td><td>Просмотр, создание, удаление</td></tr>
<tr><td>Транзакции</td><td>Просмотр, изменение</td></tr>
<tr><td>Пользователи</td><td>Регистрация</td></tr>
<tr><td>Баланс</td><td>Пополнение</td></tr>
</table>

1. вход в систему и выход из неё

   Для входа в пользовательский интерфейс Платформы необходимо в браузере открыть стартовую страницу (рис. 1).

   ![ref1]

   Рисунок 1. Авторизация в Платформе

   Для получения прав доступа к Платформе необходимо предварительно зарегестрироваться

   Для доступа к платформе необходимо выполнить авторизацию: указать номер телефона и указать пароль, а затем нажать кнопку «SIGN IN».

   Для выхода из Системы следует нажать аватар пользователя и выбрать «Logout» 

   ![ref2]

   Рисунок 2. выход из Платформы

1. работа с Предложениями

   Работа с предложениями осуществляется поэтапно

   ![ref3]

   Рисунок 3. раздел игры

   Уже далее при нажатии на любую игру вход в раздел с предложениями

   ![ref4]

   `	`Рисунок 4. Раздел предложений

   После при выборе понравившегося предложения переходим к оформлению заказа

   ![ref5]

   Рисунок 5. Раздел оформления заказа

   1. ## <a name="_toc167896343"></a>**Транзакции**
      Для открытия корзины с заказами необходимо перейти в раздел по пиктограмме корзины сверху страницы. Вся работа с заказами осуществляется в открывшемся списке

      ![ref6]

      Рисунок 6. Корзина

      Для подтверждения новой сделки следует нажать кнопку «Подтвердить», Для отмены транзакции следует нажать кнопку «Отменить».

      ![ref7]

      Рисунок 7. Корзина после подтверждения одной из сделок

      После подтверждения покупателем, деньги перейдут нам, то есть продавцу

      ![ref8]

      Рисунок 8. Корзина пользователя в этот момент

      После подтверждения обоих сторон переходит в состояние подтверждена

      ![ref9]

      Рисунок 9. Корзина пользователя после подтверждения получения товара.


   1. ## <a name="_toc167896344"></a>**Баланс**
      Для пополнения баланса, вверху сайта нажмите на кнопку Balance

      ![ref10]

      Рисунок 10. Пополнение баланса. Этап 1.

      Введите требуемую сумму пополнения. И нажмите на кнопку пополнить

      ![ref11]

      Рисунок 11. Пополнение баланса. Этап 2.

      Перейдите на сервис интернет-эквайринга и оплатите. Позже деньги придут к вам на счёт, который показывается вверху сайта, рядом с корзиной

      ![ref12]

      Рисунок 12. Пополнение баланса. Этап 3.

   1. ## <a name="_toc167896345"></a>**Пользователь**
      Для создания нового пользователя незаргистрированному пользователю достаточно перейти на сайт. Вас встретит форма для регистрации



      ![ref16]

      `	`Рисунок 13. Регистрация. Этап 1.

      После нажатия на кнопку регистрация на ваш мобильный телефон придёт смс с кодом для регистрации, который нужно будет ввести в появившимся поле.

      ![ref17]

      Рисунок 14. Подтверждение телефона. 

      Если код введен верно, платформа уведомит вас о успешной регистрации

      ![ref15]

      Рисунок 15. Успех в регистрации. 



      Для администратора

# <a name="_toc639682561"></a><a name="_toc167896346"></a>**ОПИСАНИЕ ОПЕРАЦИЙ**
<a name="_toc2040991401"></a>**Вход в систему и выход из неё**

**Вся работа администратора происходит в СУБД, поэтому входа в систему заменен на введение пароля и названия для доступа к БД на сервере Postgres**
## <a name="_toc1226082979"></a><a name="_toc167896347"></a>**Работа со списком пользователей**
Для работы с блокировкой пользователей существуют таблица user\_blocking (Рис. 2)

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.024.png) Рис. 2 - Таблица user\_blocking

Для блокировки пользователя есть поля:

- expiration\_date – принимает дату в международном формате ISO(Дата до которой пользователь будет забанен)
- user\_id – Идентификатор заблокированного пользователя.
- Reason – поле text, для указания причины блокировки в свободной форме(Будет показываться пользователю при блокировке вместо входа в систему)

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.025.png)

Рис. 3 - Таблица user

Финансовые операции:

- Balance - баланс пользователя (Формат - Long)

Изменение статуса учетной записи(происходит при подтверждении учетной записи по телефону):

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.026.png) 

Роль пользователя меняется в столбце user\_status

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.027.png)
## <a name="_toc1930238909"></a><a name="_toc167896348"></a>**Работа с предложениями**
Для работы с предложениями предусмотрено 4 таблицы:
![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.028.png) Рис. 3 - Таблица offer

Таблица Offer является сущностью которая создается при заполнении пользователем бланка для создания нового предложения. Доступ к ней необходим для модерации предложений.

В таблице Offer хранятся все предложения ![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.029.png)

Рис. 4 – Пояснение к полям таблицы offer

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.030.png)
`	`Рис. 4 - Таблица Game

В таблице Game хранятся игры допущенные для оформления по ним предложений, доступ нужен для добавления новых игр в сервис.

- Id - идентификатор игры
- Name - название игры
- Path\_to\_poster путь к изображению постера. Со стороннего сервиса.

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.031.png) 

Рис. 5 - Таблица category

В таблице category хранятся все возможные категории предложений. Доступ к ней необходим для добавления новых категорий для предложений.

- Id - идентификатор
- name – название категории

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.032.png)

Рис. 6 – Таблица Transaction

Таблица Transaction является сущностью которая создается при заполнении пользователем бланка для покупки лота. Доступ к ней необходим для закрытия сделок через техническую поддержку

Справка по состояниям:

![](Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.033.png)


1. <a name="_toc163999288"></a>возможные ошибки и рекомендации по устранению

   Таблица 2. Возможные ошибки и способы их устранения

   |Описание ошибки|Рекомендации по устранению|
   | :-: | :-: |
   |При попытке входа выводится сообщение об ошибке «неправильный логин или пароль»|Ввести корректный пароль и логин.|



1. <a name="_toc163999289"></a>Рекомендации по освоению

   Рекомендуемая литература:

- Компьютер и ноутбук для тех, кому за. Простой и понятный самоучитель. 2-е издание | Виннер Марина




[ref1]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.003.png
[ref2]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.004.png
[ref3]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.005.png
[ref4]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.006.png
[ref5]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.007.png
[ref6]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.008.png
[ref7]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.009.png
[ref8]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.010.png
[ref9]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.011.png
[ref10]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.012.png
[ref11]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.013.png
[ref12]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.014.png
[ref13]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.015.png
[ref14]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.016.png
[ref15]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.017.png
[ref16]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.022.png
[ref17]: Aspose.Words.0080ec19-6ded-4ad9-9a41-e4c51c4e3a9f.023.png
